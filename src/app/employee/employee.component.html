<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Employee</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <body>
    <div>
      <!-- <h3>READ</h3> -->
      <div id="text">
        Search:
        <input type="text" id="empnumInputBox" placeholder="Employee Number" />

        <input type="checkbox" id="show" />
        <label for="show" style="float: right" class="btn btn-success"
          ><strong>+</strong> ADD EMPLOYEE</label
        >

        <div class="container">
          <label
            for="show"
            class="close-btn fas fa-times"
            title="close"
          ></label>
          <div class="text">CREATE</div>
          <form action="#">
            <div class="data">
              <label>EMPLOYEE NUMBER</label>
              <input type="number" required #eNum />
            </div>
            <div class="data">
              <label>FIRST NAME</label>
              <input type="text" required #fName />
            </div>

            <div class="data">
              <label>MIDDLE NAME</label>
              <input type="text" required #mName />
            </div>

            <div class="data">
              <label>LAST NAME</label>
              <input type="text" required #lName />
            </div>

            <div class="data">
              <label>DEPARTMENT</label>
              <input type="text" required #dept />
            </div>

            <div class="btn">
              <div class="inner"></div>
              <button
                type="submit"
                (click)="
                  addEmployee(
                    eNum.value,
                    fName.value,
                    mName.value,
                    lName.value,
                    dept.value
                  )
                "
              >
                ADD
              </button>
            </div>
          </form>
        </div>
      </div>
      <table class="table table-striped table-hover table-bordered">
        <thead>
          <tr style="text-align: center">
            <th scope="col">ID</th>
            <th scope="col">EMPLOYEE NUMBER</th>
            <th scope="col">FIRST NAME</th>
            <th scope="col">MIDDLE NAME</th>
            <th scope="col">LAST NAME</th>
            <th scope="col">DEPARTMENT</th>
            <th scope="col">ACTIONS</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let employee of employees" style="text-align: center" #aa>
            <td>{{ employee.id }}</td>
            <td>{{ employee.employeeNumber }}</td>
            <td>{{ employee.firstName }}</td>
            <td>{{ employee.middleName }}</td>
            <td>{{ employee.lastName }}</td>
            <td>{{ employee.department }}</td>
            <td>
              <button type="button" class="btn btn-warning" id="update">
                UPDATE
              </button>
              <div class="updateContainer">
                <label
                  for="update"
                  class="close-btn fas fa-times"
                  title="close"
                ></label>
                <div class="text">UPDATE</div>
                <form>
                  <div class="data">
                    <label>EMPLOYEE NUMBER</label>
                    <input
                      type="number"
                      placeholder="{{ employee.employeeNumber }}"
                      required
                      #eNum
                      disabled
                    />
                  </div>
                  <div class="data">
                    <label>FIRST NAME</label>
                    <input
                      type="text"
                      placeholder="{{ employee.firstName }}"
                      required
                      #fName
                    />
                  </div>

                  <div class="data">
                    <label>MIDDLE NAME</label>
                    <input
                      type="text"
                      placeholder="{{ employee.middleName }}"
                      required
                      #mName
                    />
                  </div>

                  <div class="data">
                    <label>LAST NAME</label>
                    <input
                      type="text"
                      placeholder="{{ employee.lastName }}"
                      required
                      #lName
                    />
                  </div>

                  <div class="data">
                    <label>DEPARTMENT</label>
                    <input
                      type="text"
                      placeholder="{{ employee.department }}"
                      required
                      #dept
                    />
                  </div>

                  <div class="btn">
                    <div class="inner"></div>
                    <button
                      type="submit"
                      (click)="
                        addEmployee(
                          eNum.value,
                          fName.value,
                          mName.value,
                          lName.value,
                          dept.value
                        )
                      "
                    >
                      UPDATE
                    </button>
                  </div>
                </form>
              </div>

              &nbsp;
              <button target="_blank" class="btn btn-danger">DELETE</button>
              &nbsp; &nbsp;
              <button target="_blank" class="btn btn-info">ASSIGN</button>
              &nbsp;
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div>
      <h3>UPDATE</h3>
      <label for="updateEmp">Employee Number: </label>
      <input id="updateEmp" placeholder="Employee Number" #updateEmp /><br />

      <label for="fname">First Name: </label>
      <input id="updateFname" placeholder="First Name" #updateFname /><br />

      <label for="midname">Middle Name: </label>
      <input
        id="updateMidname"
        placeholder="Middle Name"
        #updateMidname
      /><br />

      <label for="lname">Last Name: </label>
      <input id="updateLname" placeholder="Last Name" #updateLname /><br />

      <label for="dept">Department: </label>
      <input id="updateDept" placeholder="Department" #updateDept /><br />
      <button
        (click)="
          save(
            updateEmp.value,
            updateFname.value,
            updateMidname.value,
            updateLname.value,
            updateDept.value
          )
        "
      >
        SAVE
      </button>
    </div>
    <div>
      <h3>DELETE</h3>
      <label for="empDelete">Employee Number: </label>
      <input id="empDelete" placeholder="Employee Number" #deleteEmp /><br />
      <button (click)="delete(deleteEmp.value)">DELETE</button>
    </div>

    <div>
      <h3>ASSIGN TICKET</h3>
      <label for="assignTik">TICKET</label>
      <input id="assignTik" placeholder="TICKET" #assignTik /><br />
      <label for="assignEmp">EMPLOYEE NUMBER</label>
      <input id="assignEmp" placeholder="EMPLOYEE NUMBER" #assignEmp /><br />
      <button (click)="assignTicket(assignTik.value, assignEmp.value)">
        ASSIGN
      </button>
    </div>
    <!-- </div> -->
  </body>
</html>
